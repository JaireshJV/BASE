<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HTTP METHOD</title>
  </head>
  <body>
    <div>
      <p>GET - Used to fetch details from source or Database</p>
      <p>POST - Used to insert the datas to database</p>
      <p>PUT - Used to update a given data in database</p>
      <p>PATCH - Used to update particular datas in database</p>
      <p>DELETE - Used to delete datas from the database</p>
    </div>
    <div>
      <label>NAME :</label>
      <input type="text" name="name" onchange="ChangeText(this)" />
      <label>AGE :</label>
      <input type="number" name="age" onchange="ChangeText(this)" />
      <label>EMAIL :</label>
      <input type="email" name="emailid" onchange="ChangeText(this)" />
      <button onclick="ChangeText()">SUBMIT</button>
      <button onclick="SubmitFunc()">SUBMIT</button>
      <button onclick="EditFunc()">UPDATE</button>
      <button onclick="PatchFunc()">PATCH</button>
      <button onclick="DeleteFunc()">DELETE</button>

    </div>
    <script>
      let obj = {};
      function ChangeText(text) {
        console.log(text.name, "texttttttttt");

        if (text.name === "name") {
          obj["name"] = text.value;
        }
        if (text.name === "age") {
          obj["age"] = text.value;
        }
        if (text.name === "emailid") {
          obj["emailid"] = text.value;
        }
        console.log(obj.name, "object");
        console.log(obj.age, "object");
        console.log(obj.emailid, "object");
      }

      // GET
      function getValue() {
        fetch("https://jsonplaceholder.typicode.com/posts")
          .then((res) => res.json())
          .then((data) => {
            console.log(data, "data");
          });
      }

      getValue();

      // POST
      function SubmitFunc() {
        fetch("https://jsonplaceholder.typicode.com/posts", {
          method: "POST",
          body: JSON.stringify({
            title: obj.name,
            userId: obj.age,
            body: obj.emailid,
          }),
          headers: {
            "content-type": "application/json",
          },
        })
          .then((res) => res.json())
          .then((data) => console.log(data, "POST"));
      }

      // PUT

      function EditFunc() {
        const id = 16;
        fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {
          method: "PUT",
          body: JSON.stringify({
            title: obj.name,
            userId: obj.age,
            body: obj.emailid,
          }),
          headers: {
            "content-type": "application/json",
          },
        })
          .then((res) => res.json())
          .then((data) => console.log(data, "edited"));
      }

      // PATCH

      function PatchFunc() {
        const id = 16;
        fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {
          method: "PATCH",
          body: JSON.stringify({
            title: obj.name,
            userId: obj.age,
          }),
          headers: {
            "content-type": "application/json",
          },
        })
          .then((res) => res.json())
          .then((data) => console.log(data, "edited"));
      }

      // DELETE

      function DeleteFunc(){
         const id = 18;
        fetch(`https://jsonplaceholder.typicode.com/posts/${id}`, {
            method:"DELETE"
        }
      )
      .then((res)=> {
        if(res.ok){
            console.log('Deleted Successfully'); 
        }
        else{
           console.log('Not Deleted');  
        }
      })
    }

    </script>
  </body>
</html>
